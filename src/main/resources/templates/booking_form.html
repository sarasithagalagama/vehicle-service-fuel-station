<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title th:text="${booking.id != null} ? 'Edit Booking' : 'New Booking'">
      Booking Form
    </title>

    <!-- Bootstrap & Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <style>
      :root {
        --bg: #eef2f7;
        --card: #ffffff;
        --primary: #6754e2;
        --primary-600: #5a49d3;
        --muted: #6b7280;
        --shadow: 0 10px 30px rgba(20, 20, 20, 0.08);
        --radius: 14px;
      }
      body {
        background: linear-gradient(180deg, #f5f7fb, #e9eff8 35%, #eef2f7) fixed;
        color: #334155;
        font-family: Inter, system-ui, Segoe UI, Roboto, Helvetica, Arial,
          sans-serif;
      }
      .app {
        max-width: 960px;
        margin-inline: auto;
        padding: 28px;
      }
      .glass {
        background: var(--card);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
      }
      .header-card {
        padding: 22px 26px;
      }
      .title {
        font-weight: 800;
        color: #2f3142;
        letter-spacing: 0.2px;
      }
      .subtitle {
        color: var(--muted);
      }
      .btn-primary {
        background: var(--primary);
        border-color: var(--primary);
      }
      .btn-primary:hover {
        background: var(--primary-600);
        border-color: var(--primary-600);
      }
      .btn-outline-secondary {
        border-radius: 10px;
      }

      .card-block {
        padding: 22px 26px;
      }
      .form-label {
        font-weight: 700;
        color: #374151;
      }
      .form-control,
      .form-select {
        border-radius: 10px;
        border: 1px solid #d1d5db;
      }
      .form-control:focus,
      .form-select:focus {
        border-color: var(--primary);
        box-shadow: 0 0 0 0.2rem rgba(103, 84, 226, 0.15);
      }
      .form-text {
        color: var(--muted);
      }
      .input-icon {
        position: relative;
      }
      .input-icon i {
        position: absolute;
        left: 12px;
        top: 50%;
        transform: translateY(-50%);
      }
      .input-icon .form-control {
        padding-left: 2.1rem;
      }

      @media (min-width: 992px) {
        .grid-2 {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
        }
      }
    </style>
  </head>

  <body>
    <main class="app">
      <!-- Header -->
      <section
        class="glass header-card d-flex justify-content-between align-items-center"
      >
        <div>
          <h2 class="title mb-1 d-flex align-items-center gap-2">
            <i class="bi bi-journal-plus text-primary"></i>
            <span
              th:text="${booking.id != null} ? 'Edit Booking' : 'New Booking'"
            ></span>
          </h2>
          <p class="subtitle m-0">
            Fill in the details below and save your booking.
          </p>
        </div>
        <a
          th:href="@{/bookings}"
          class="btn btn-outline-secondary d-inline-flex align-items-center gap-2"
        >
          <i class="bi bi-arrow-left"></i> Back
        </a>
      </section>

      <!-- Form Card -->
      <section class="glass mt-4">
        <div class="card-block">
          <form
            th:action="@{/bookings}"
            th:object="${booking}"
            method="post"
            novalidate
          >
            <input type="hidden" th:field="*{id}" />

            <div class="grid-2">
              <!-- Customer -->
              <div class="mb-3">
                <label for="customerName" class="form-label"
                  >Customer Name</label
                >
                <div class="input-icon">
                  <i class="bi bi-person"></i>
                  <input
                    id="customerName"
                    type="text"
                    class="form-control"
                    th:field="*{customerName}"
                    placeholder="e.g., John Doe"
                    required
                  />
                </div>
              </div>

              <!-- Vehicle -->
              <div class="mb-3">
                <label for="vehicleNumber" class="form-label"
                  >Vehicle Number</label
                >
                <div class="input-icon">
                  <i class="bi bi-car-front"></i>
                  <input
                    id="vehicleNumber"
                    type="text"
                    class="form-control"
                    th:field="*{vehicleNumber}"
                    placeholder="e.g., ABC-1234"
                    required
                  />
                </div>
              </div>
            </div>

            <div class="grid-2">
              <!-- Service Type -->
              <div class="mb-3">
                <label for="serviceType" class="form-label">Service Type</label>
                <select
                  id="serviceType"
                  class="form-select"
                  th:field="*{serviceType}"
                  required
                >
                  <option
                    value=""
                    disabled
                    th:if="${booking.id == null}"
                    selected
                  >
                    Select service type
                  </option>
                  <option value="Oil Change">Oil Change</option>
                  <option value="Full Service">Full Service</option>
                  <option value="Tire Replacement">Tire Replacement</option>
                  <option value="Brake Service">Brake Service</option>
                  <option value="Engine Check">Engine Check</option>
                </select>
              </div>

              <!-- Status -->
              <div class="mb-3">
                <label for="status" class="form-label">Status</label>
                <select
                  id="status"
                  class="form-select"
                  th:field="*{status}"
                  required
                >
                  <option
                    value=""
                    disabled
                    th:if="${booking.id == null}"
                    selected
                  >
                    Select status
                  </option>
                  <option value="Pending">Pending</option>
                  <option value="In Progress">In Progress</option>
                  <option value="Completed">Completed</option>
                  <option value="Cancelled">Cancelled</option>
                </select>
              </div>
            </div>

            <!-- Date/Time -->
            <div class="mb-4">
              <label for="bookingDate" class="form-label"
                >Booking Date &amp; Time</label
              >
              <div class="input-icon">
                <i class="bi bi-calendar-event"></i>
                <input
                  id="bookingDate"
                  type="datetime-local"
                  class="form-control"
                  th:field="*{bookingDate}"
                  required
                />
              </div>
              <div class="form-text">Choose the scheduled date and time.</div>
            </div>

            <!-- Actions -->
            <div
              class="d-flex justify-content-between align-items-center gap-2"
            >
              <a th:href="@{/bookings}" class="btn btn-outline-secondary">
                <i class="bi bi-x-circle"></i> Cancel
              </a>
              <button
                type="submit"
                class="btn btn-primary d-inline-flex align-items-center gap-2"
              >
                <i class="bi bi-save"></i> Save Booking
              </button>
            </div>
          </form>
        </div>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
